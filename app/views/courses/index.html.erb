<!--All Courses Page-->
<% provide(:title, @title) %>

<!--Page Header Title-->
<h1 class="course-index-title">
  <strong><%= @title %></strong>
</h1>

<!--Search Bar-->
<%= form_with url: courses_path(sort_by: params[:sort_by]), local: true, method: :get, html: { class: 'search-bar my-2 my-lg-0 w-50 mx-auto' } do |form| %>
  <%= form.text_field :search, 
    value: params[:search], 
    placeholder: 'Search for a course...', 
    data: { behavior: 'autocomplete', 
            controller: 'courses', action: 'index' }, 
    class: 'form-control' %>
<% end %>

<% if params[:search] %>
  <h3 class="text-left">
    <strong>Results:</strong>
  </h3>
<% end %>

<!--Courses-->
<% if @courses.any? %>

  <div class="row">
    <div class="col">
  <%= render 'shared/sort_courses' %>
    </div>
  </div>

  <div class="row justify-content-center">
    <div class="row">
      <%= render @courses %>
    </div>
    <div class="row">
      <div class="col-auto">
        <%= will_paginate @courses, class: "pagination" %>
      </div>
    </div>
  </div>

<% else %>

  <h3 class="mt-4 course-index-none">
    <strong>No courses found...</strong>
  </h3>

<% end %>
