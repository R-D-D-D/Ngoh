<%= link_to "Music Academy", root_url, id: 'logo' %>

<!--Search-->
<%= form_with url: courses_path, local: true, method: :get, html: { class: "form-inline my-2 my-lg-0" } do |form| %>
  <%= form.text_field :search, value: params[:search], placeholder: "Search for a course...", data: { behavior: "autocomplete" }, class: "form-control mr-sm-2" %>
  <%= form.button "Search", class: "btn btn-outline-light ml-2 my-2 my-sm-0" %>
<% end %>

<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
  <span class="navbar-toggler-icon"></span>
</button>

<div class="collapse navbar-collapse" id="navbarSupportedContent">
  <ul class="navbar-nav ml-auto">
    <li class="nav-item active">
      <%= link_to "Home", root_url, class: 'nav-link text-light' %>
    </li>
    <li class="nav-item">
      <%= link_to "Courses", courses_url, class: 'nav-link text-light' %>
    </li>
    <% if logged_in? %>

      <!--Tutor/Student items-->
      <li class="nav-item">
        <%= link_to "Tutors", tutors_path, class: 'nav-link text-light' %>
      </li>

      <!--Notifications-->
      <%= render 'notifications/dropdown' %>

      <!--Account items-->
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle text-light" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          Account
        </a>
        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
          <% if tutor? %>
            <%= link_to "My Courses", courses_tutor_path(current_user), class: 'dropdown-item' %>
          <% elsif student? %>
            <%= link_to "My Courses", courses_student_path(current_user), class: 'dropdown-item' %>
          <% end %>
          <!--My Profile-->
          <%= link_to "Profile", current_user, class: 'dropdown-item' %>
          <!--Settings-->
          <% if tutor? %>
            <%= link_to "Settings", edit_tutor_path(current_user), class: 'dropdown-item' %>
          <% elsif student? %>
            <%= link_to "Settings", edit_student_path(current_user), class: 'dropdown-item' %>
          <% end %>

          <div class="dropdown-divider"></div>

          <%= link_to "Log Out", logout_path, method: :delete, class: 'dropdown-item' %>
        </div>
      </li>

    <% else %>

      <li><%= link_to "Sign Up", signup_path, class: 'nav-link text-light' %></li>
      <li><%= link_to "Log In", login_path, class: 'nav-link text-light' %></li>

    <% end %>
  </ul>
</div>
