<header class="navbar navbar-fixed-top navbar-inverse">
  <div class="container">
    <%= link_to "Music Academy", root_path, id: "logo" %>
    <nav>

      <!--Search Bar-->
      <div class="navbar-nav navbar-left">
        <div id="search-bar" class="form-group">
          <%= form_tag courses_path, method: :get, class: 'form-inline' do %>
            <%= 
              text_field_tag :search, 
                params[:search], 
                placeholder: 'Search for a course...', 
                class: 'form-control' 
              %>
          <% end %>
        </div>
      </div>

      <ul class="nav navbar-nav navbar-right">
        <li><%= link_to "Home",   root_path %></li>
        <li><%= link_to "All Courses",  courses_path %></li>

        <% if logged_in? %>

          <!--Tutor/Student items-->
          <% if tutor? %>
            <li><%= link_to "My Courses", courses_tutor_path(current_user) %></li>
            <li><%= link_to "My Students", students_tutor_path(current_user) %></li>
            <li><%= link_to "New Course", new_course_path %></li>
            <li><%= link_to "All Tutors", tutors_path %></li>
            <li><%= link_to "All Students", students_path %></li>
          <% elsif student? %>
            <li><%= link_to "My Courses", courses_student_path(current_user) %></li>
            <li><%= link_to "All Tutors", tutors_path %></li>
          <% end %>

          <!--Account items-->
          <li class="dropdown">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown">
              Account <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
              <li><%= link_to "Profile", current_user %></li>
              <% if tutor? %>
                <li><%= link_to "Settings", edit_tutor_path(current_user) %></li>
              <% else %>
                <li><%= link_to "Settings", edit_student_path(current_user) %></li>
              <% end %>
              <li class="divider"></li>
              <li>
                <%= link_to "Log Out", logout_path, method: :delete %>
              </li>
            </ul>
          </li>

        <% else %>

          <li class="dropdown">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown">
              Log in <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
              <li><%= link_to "Student Log In", student_login_path %></li>
              <li><%= link_to "Tutor Log In", tutor_login_path %></li>
            </ul>
          </li>

        <% end %>

      </ul>
    </nav>
  </div>
</header>
